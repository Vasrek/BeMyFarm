<html>
<head>
  <meta charset="UTF-8">
  <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
  <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
  <script src="https://unpkg.com/aframe-layout-component@3.x.x/dist/aframe-layout-component.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@3.x.x/dist/aframe-event-set-component.min.js"></script>
  <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
  <script src="components/set-image.js"></script>

</head>
<body>
  <a-scene>
    <a-asset>
      <img id="i-vigneron" crossorigin="anonymous" src="image/vigneron.jpg">
      <img id="bouteille" crossorigin="anonymous" src="image/italian-wine-bottle.png">
      <img id="i-fond" crossorigin="anonymous" src="image/Photo Intro.png">
      <img id="i-360-1" crossorigin="anonymous" src="image/Vigne visite racine.png">
      <img id="i-360-2" crossorigin="anonymous" src="image/interieur cave.png">
      <img id="i-360-3" crossorigin="anonymous" src="image/Fabrication.png">
      <img id="i-back" crossorigin="anonymous" src="image/back.png">
	</a-asset>

      <a-sky id="fond" radius="20" src="#i-fond"></a-sky>

      <a-image id="vigneron" src="#i-vigneron" width="10" height="6" position="0 2 -10"></a-image>
		  <a-image id="bouteille1" src="#bouteille" width="4" height="4" position="-6.405 2 -4.030" rotation="0 46.123 0"></a-image>
      <a-image id="bouteille2" src="#bouteille" width="4" height="4" position="-8.711 2 -2.348" rotation="0 51.452 0"></a-image>
      <a-image id="bouteille3" src="#bouteille" width="4" height="4" position="-10.596 2 2.374" rotation="0 97.002 0"></a-image>
      <a-image id="back" src="#i-back" width="2" height="2" position="-4 0 -3" visible="false" set-image="on: click; target: #fond; src: #i-fond"></a-image>

      <a-curvedimage id="curve1" class="link" src="#i-360-1" height="1" radius="6" theta-length="20" rotation="0 -211 0" scale="2 2 2" position="8 5 2" opacity="0.7" set-image="on: click; target: #fond; src: #i-360-1">
      </a-curvedimage>
      <a-curvedimage id="curve2" class="link" src="#i-360-2" height="1" radius="6" theta-length="20" rotation="0 -211 0" scale="2 2 2" position="8 2 2" opacity="0.7" set-image="on: click; target: #fond; src: #i-360-2">
      </a-curvedimage>
      <a-curvedimage id="curve3" class="link" src="#i-360-3" height="1" radius="6" theta-length="20" rotation="0 -211 0" scale="2 2 2" position="8 -1 2" opacity="0.7" set-image="on: click; target: #fond; src: #i-360-3">
      </a-curvedimage>

        			<!-- Camera -->
	  <a-entity id="camera" camera mouse-cursor look-controls position="0 1 0">
			<a-entity position="0 0 -1"
				scale=".065 .065 .065"
                geometry="primitive: ring; radiusOuter: 0.30;
				radiusInner: 0.20;"
				material="color: red; shader: flat"
				cursor="maxDistance: 30; fuse: true">
				<a-animation begin="fusing" easing="ease-in" attribute="scale"
					fill="forwards" from=".02 .02 .02" to="0.065 0.065 0.065" dur="1500"></a-animation>
            </a-entity>
      </a-entity>

  </a-scene>
  <script type="text/javascript">
    document.querySelector('#curve1').addEventListener('click', function() {
      document.querySelector('#curve1').setAttribute('visible', 'false');
      document.querySelector('#curve2').setAttribute('visible', 'false');
      document.querySelector('#curve3').setAttribute('visible', 'false');
      document.querySelector('#vigneron').setAttribute('visible', 'false');
      document.querySelector('#bouteille1').setAttribute('visible', 'false');
      document.querySelector('#bouteille2').setAttribute('visible', 'false');
      document.querySelector('#bouteille3').setAttribute('visible', 'false');
      document.querySelector('#back').setAttribute('visible', 'true');
    });
      document.querySelector('#curve2').addEventListener('click', function() {
        document.querySelector('#curve1').setAttribute('visible', 'false');
        document.querySelector('#curve2').setAttribute('visible', 'false');
        document.querySelector('#curve3').setAttribute('visible', 'false');
        document.querySelector('#vigneron').setAttribute('visible', 'false');
        document.querySelector('#bouteille1').setAttribute('visible', 'false');
        document.querySelector('#bouteille2').setAttribute('visible', 'false');
        document.querySelector('#bouteille3').setAttribute('visible', 'false');
        document.querySelector('#back').setAttribute('visible', 'true');
      });
        document.querySelector('#curve3').addEventListener('click', function() {
          document.querySelector('#curve1').setAttribute('visible', 'false');
          document.querySelector('#curve2').setAttribute('visible', 'false');
          document.querySelector('#curve3').setAttribute('visible', 'false');
          document.querySelector('#vigneron').setAttribute('visible', 'false');
          document.querySelector('#bouteille1').setAttribute('visible', 'false');
          document.querySelector('#bouteille2').setAttribute('visible', 'false');
          document.querySelector('#bouteille3').setAttribute('visible', 'false');
          document.querySelector('#back').setAttribute('visible', 'true');
        });
    document.querySelector('#back').addEventListener('click', function() {
      document.querySelector('#curve1').setAttribute('visible', 'true');
      document.querySelector('#curve2').setAttribute('visible', 'true');
      document.querySelector('#curve3').setAttribute('visible', 'true');
      document.querySelector('#vigneron').setAttribute('visible', 'true');
      document.querySelector('#bouteille1').setAttribute('visible', 'true');
      document.querySelector('#bouteille2').setAttribute('visible', 'true');
      document.querySelector('#bouteille3').setAttribute('visible', 'true');
      document.querySelector('#back').setAttribute('visible', 'false');
    });

    </script>
</body>
</html>
